<?php

use Application\Controller\DesignController;
use Application\Controller\ProductController;

?>
<div class="main-wrapper">
    <div class="container">
        <div class="row">
            <div class="col-md-3 sidebar">
                <?php echo DesignController::getVendorSidebar('products'); ?>
            </div>
            <div class="col-md-9 vendor-pl0">
                <div class="page-date"><i class="far fa-calendar-alt"></i>&nbsp;Tuesday, April 6, 2021</div>
                <div class="vendor-page-wrapper">
                    <div class="products-table-wrapper light-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th class="text-center">Status</th>
                                    <th class="text-center">QTY Confirmed</th>
                                    <th class="text-center">Qty Pending</th>
                                    <th class="text-center">QTY Sold</th>
                                    <th>Earn Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <?php foreach ($this->items as $row) { ?>
                                    <tr id="<?php echo $row->id;?>">
                                        <td>
                                            <div class="product-img">
                                                <img class="centervh" src="<?php echo ProductController::getProductImage($row->image);?>" />
                                            </div>
                                            <div class="product-details">
                                                <?php echo substr(strip_tags($row->title), 0, 25); ?><br>
                                                LBP <?php echo ProductController::getFinalPrice($row->regularPrice, $row->salePrice);?>
                                            </div>
                                        </td>
                                        <td class="text-center">PENDING</td>
                                        <td class="text-center">n/a</td>
                                        <td class="text-center">n/a</td>
                                        <td class="text-center">2</td>
                                        <td>
                                            23,000 LBP
                                        </td>
                                    </tr>
                                <?php } ?>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-md-12">
                    <div id="my-products-pagination" class="product-pagination text-center"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
$(function(){
    //alert('s');
      //Pagination
  $("#my-products-pagination").twbsPagination({
    totalPages: <?php echo $this->totalPages;?>,
    visiblePages: 5,
    first: "",
    last: "",
    next: '<i class="fas fa-chevron-right"></i>',
    prev: '<i class="fas fa-chevron-left"></i>',
    startPage: <?php echo $this->currentPage;?>,
    initiateStartPageClick: false,
    onPageClick: function (event, page) {
      location.href = '<?php echo MAIN_URL."vendor/my-products?page=";?>' + page;
    },
  });
});
</script>